import{S as ft,i as ht,s as mt,M as ut,k as U,q as R,l as x,m as A,r as V,h as D,N as _t,b as z,C as T,u as dt,O as Ot,D as X,P as gt,o as It,Q as Yt,R as yt,n as Q,T as Et,g as vt,d as pt,p as Ct,a as tt,y as bt,c as et,z as wt,F as Mt,A as St,U as Lt,B as Tt,L as Ht}from"../chunks/index.6ff1318d.js";var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt={},Nt={get exports(){return lt},set exports(c){lt=c}};(function(c,n){(function(a,m){c.exports=m()})(kt,function(){var a=1e3,m=6e4,u=36e5,s="millisecond",r="second",_="minute",$="hour",p="day",o="week",g="month",C="quarter",y="year",Y="date",j="Invalid Date",q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var i=["th","st","nd","rd"],t=f%100;return"["+f+(i[(t-20)%10]||i[t]||i[0])+"]"}},H=function(f,i,t){var h=String(f);return!h||h.length>=i?f:""+Array(i+1-h.length).join(t)+f},B={s:H,z:function(f){var i=-f.utcOffset(),t=Math.abs(i),h=Math.floor(t/60),e=t%60;return(i<=0?"+":"-")+H(h,2,"0")+":"+H(e,2,"0")},m:function f(i,t){if(i.date()<t.date())return-f(t,i);var h=12*(t.year()-i.year())+(t.month()-i.month()),e=i.clone().add(h,g),d=t-e<0,v=i.clone().add(h+(d?-1:1),g);return+(-(h+(t-e)/(d?e-v:v-e))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:g,y,w:o,d:p,D:Y,h:$,m:_,s:r,ms:s,Q:C}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return f===void 0}},b="en",O={};O[b]=J;var L=function(f){return f instanceof I},W=function f(i,t,h){var e;if(!i)return b;if(typeof i=="string"){var d=i.toLowerCase();O[d]&&(e=d),t&&(O[d]=t,e=d);var v=i.split("-");if(!e&&v.length>1)return f(v[0])}else{var M=i.name;O[M]=i,e=M}return!h&&e&&(b=e),e||!h&&b},S=function(f,i){if(L(f))return f.clone();var t=typeof i=="object"?i:{};return t.date=f,t.args=arguments,new I(t)},l=B;l.l=W,l.i=L,l.w=function(f,i){return S(f,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})};var I=function(){function f(t){this.$L=W(t.locale,null,!0),this.parse(t)}var i=f.prototype;return i.parse=function(t){this.$d=function(h){var e=h.date,d=h.utc;if(e===null)return new Date(NaN);if(l.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var v=e.match(q);if(v){var M=v[2]-1||0,k=(v[7]||"0").substring(0,3);return d?new Date(Date.UTC(v[1],M,v[3]||1,v[4]||0,v[5]||0,v[6]||0,k)):new Date(v[1],M,v[3]||1,v[4]||0,v[5]||0,v[6]||0,k)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},i.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},i.$utils=function(){return l},i.isValid=function(){return this.$d.toString()!==j},i.isSame=function(t,h){var e=S(t);return this.startOf(h)<=e&&e<=this.endOf(h)},i.isAfter=function(t,h){return S(t)<this.startOf(h)},i.isBefore=function(t,h){return this.endOf(h)<S(t)},i.$g=function(t,h,e){return l.u(t)?this[h]:this.set(e,t)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(t,h){var e=this,d=!!l.u(h)||h,v=l.p(t),M=function(nt,N){var K=l.w(e.$u?Date.UTC(e.$y,N,nt):new Date(e.$y,N,nt),e);return d?K:K.endOf(p)},k=function(nt,N){return l.w(e.toDate()[nt].apply(e.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(N)),e)},w=this.$W,E=this.$M,G=this.$D,Z="set"+(this.$u?"UTC":"");switch(v){case y:return d?M(1,0):M(31,11);case g:return d?M(1,E):M(0,E+1);case o:var it=this.$locale().weekStart||0,rt=(w<it?w+7:w)-it;return M(d?G-rt:G+(6-rt),E);case p:case Y:return k(Z+"Hours",0);case $:return k(Z+"Minutes",1);case _:return k(Z+"Seconds",2);case r:return k(Z+"Milliseconds",3);default:return this.clone()}},i.endOf=function(t){return this.startOf(t,!1)},i.$set=function(t,h){var e,d=l.p(t),v="set"+(this.$u?"UTC":""),M=(e={},e[p]=v+"Date",e[Y]=v+"Date",e[g]=v+"Month",e[y]=v+"FullYear",e[$]=v+"Hours",e[_]=v+"Minutes",e[r]=v+"Seconds",e[s]=v+"Milliseconds",e)[d],k=d===p?this.$D+(h-this.$W):h;if(d===g||d===y){var w=this.clone().set(Y,1);w.$d[M](k),w.init(),this.$d=w.set(Y,Math.min(this.$D,w.daysInMonth())).$d}else M&&this.$d[M](k);return this.init(),this},i.set=function(t,h){return this.clone().$set(t,h)},i.get=function(t){return this[l.p(t)]()},i.add=function(t,h){var e,d=this;t=Number(t);var v=l.p(h),M=function(E){var G=S(d);return l.w(G.date(G.date()+Math.round(E*t)),d)};if(v===g)return this.set(g,this.$M+t);if(v===y)return this.set(y,this.$y+t);if(v===p)return M(1);if(v===o)return M(7);var k=(e={},e[_]=m,e[$]=u,e[r]=a,e)[v]||1,w=this.$d.getTime()+t*k;return l.w(w,this)},i.subtract=function(t,h){return this.add(-1*t,h)},i.format=function(t){var h=this,e=this.$locale();if(!this.isValid())return e.invalidDate||j;var d=t||"YYYY-MM-DDTHH:mm:ssZ",v=l.z(this),M=this.$H,k=this.$m,w=this.$M,E=e.weekdays,G=e.months,Z=function(N,K,ot,at){return N&&(N[K]||N(h,d))||ot[K].slice(0,at)},it=function(N){return l.s(M%12||12,N,"0")},rt=e.meridiem||function(N,K,ot){var at=N<12?"AM":"PM";return ot?at.toLowerCase():at},nt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:w+1,MM:l.s(w+1,2,"0"),MMM:Z(e.monthsShort,w,G,3),MMMM:Z(G,w),D:this.$D,DD:l.s(this.$D,2,"0"),d:String(this.$W),dd:Z(e.weekdaysMin,this.$W,E,2),ddd:Z(e.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(M),HH:l.s(M,2,"0"),h:it(1),hh:it(2),a:rt(M,k,!0),A:rt(M,k,!1),m:String(k),mm:l.s(k,2,"0"),s:String(this.$s),ss:l.s(this.$s,2,"0"),SSS:l.s(this.$ms,3,"0"),Z:v};return d.replace(P,function(N,K){return K||nt[N]||v.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(t,h,e){var d,v=l.p(h),M=S(t),k=(M.utcOffset()-this.utcOffset())*m,w=this-M,E=l.m(this,M);return E=(d={},d[y]=E/12,d[g]=E,d[C]=E/3,d[o]=(w-k)/6048e5,d[p]=(w-k)/864e5,d[$]=w/u,d[_]=w/m,d[r]=w/a,d)[v]||w,e?E:l.a(E)},i.daysInMonth=function(){return this.endOf(g).$D},i.$locale=function(){return O[this.$L]},i.locale=function(t,h){if(!t)return this.$L;var e=this.clone(),d=W(t,h,!0);return d&&(e.$L=d),e},i.clone=function(){return l.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},f}(),F=I.prototype;return S.prototype=F,[["$ms",s],["$s",r],["$m",_],["$H",$],["$W",p],["$M",g],["$y",y],["$D",Y]].forEach(function(f){F[f[1]]=function(i){return this.$g(i,f[0],f[1])}}),S.extend=function(f,i){return f.$i||(f(i,I,S),f.$i=!0),S},S.locale=W,S.isDayjs=L,S.unix=function(f){return S(1e3*f)},S.en=O[b],S.Ls=O,S.p={},S})})(Nt);const st=lt;var ct={},Ut={get exports(){return ct},set exports(c){ct=c}};(function(c,n){(function(a,m){c.exports=m()})(kt,function(){return function(a,m,u){a=a||{};var s=m.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _(p,o,g,C){return s.fromToBase(p,o,g,C)}u.en.relativeTime=r,s.fromToBase=function(p,o,g,C,y){for(var Y,j,q,P=g.$locale().relativeTime||r,J=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],H=J.length,B=0;B<H;B+=1){var b=J[B];b.d&&(Y=C?u(p).diff(g,b.d,!0):g.diff(p,b.d,!0));var O=(a.rounding||Math.round)(Math.abs(Y));if(q=Y>0,O<=b.r||!b.r){O<=1&&B>0&&(b=J[B-1]);var L=P[b.l];y&&(O=y(""+O)),j=typeof L=="string"?L.replace("%d",O):L(O,o,b.l,q);break}}if(o)return j;var W=q?P.future:P.past;return typeof W=="function"?W(j):W.replace("%s",j)},s.to=function(p,o){return _(p,o,this,!0)},s.from=function(p,o){return _(p,o,this)};var $=function(p){return p.$u?u.utc():u()};s.toNow=function(p){return this.to($(this),p)},s.fromNow=function(p){return this.from($(this),p)}}})})(Ut);const xt=ct;st.extend(xt);function At(c){let n,a,m=[c[3],{title:c[2]},{datetime:c[1]}],u={};for(let s=0;s<m.length;s+=1)u=ut(u,m[s]);return{c(){n=U("time"),a=R(c[0]),this.h()},l(s){n=x(s,"TIME",{title:!0,datetime:!0});var r=A(n);a=V(r,c[0]),r.forEach(D),this.h()},h(){_t(n,u)},m(s,r){z(s,n,r),T(n,a)},p(s,[r]){r&1&&dt(a,s[0]),_t(n,u=Ot(m,[r&8&&s[3],r&4&&{title:s[2]},r&2&&{datetime:s[1]}]))},i:X,o:X,d(s){s&&D(n)}}}function jt(c,n,a){let m;const u=["timestamp","format","relative","live","formatted"];let s=gt(n,u),{timestamp:r=new Date().toISOString()}=n,{format:_="MMM DD, YYYY"}=n,{relative:$=!1}=n,{live:p=!1}=n,{formatted:o=""}=n,g;const C=60*1e3;return It(()=>($&&p!==!1&&(g=setInterval(()=>{a(0,o=st(r).from())},Math.abs(typeof p=="number"?p:C))),()=>{typeof g=="number"&&clearInterval(g)})),c.$$set=y=>{n=ut(ut({},n),Yt(y)),a(3,s=gt(n,u)),"timestamp"in y&&a(1,r=y.timestamp),"format"in y&&a(4,_=y.format),"relative"in y&&a(5,$=y.relative),"live"in y&&a(6,p=y.live),"formatted"in y&&a(0,o=y.formatted)},c.$$.update=()=>{c.$$.dirty&50&&a(0,o=$?st(r).from():st(r).format(_)),c.$$.dirty&50&&a(2,m=$?st(r).format(_):void 0)},[o,r,m,s,_,$,p]}class Pt extends ft{constructor(n){super(),ht(this,n,jt,At,mt,{timestamp:1,format:4,relative:5,live:6,formatted:0})}}const $t=async c=>{const a=await(await fetch(`https://fwd.innopolis.app/api/hw2?email=${c}`)).json();return await(await fetch(`https://getxkcd.vercel.app/api/comic?num=${a}`)).json()};function Wt(c){let n,a,m=c[3].message+"",u,s;return{c(){n=U("p"),a=R('Something went wrong, when fetching comics page: "'),u=R(m),s=R('"'),this.h()},l(r){n=x(r,"P",{style:!0});var _=A(n);a=V(_,'Something went wrong, when fetching comics page: "'),u=V(_,m),s=V(_,'"'),_.forEach(D),this.h()},h(){Ct(n,"color","yellow")},m(r,_){z(r,n,_),T(n,a),T(n,u),T(n,s)},p(r,_){_&1&&m!==(m=r[3].message+"")&&dt(u,m)},i:X,o:X,d(r){r&&D(n)}}}function Rt(c){let n,a,m,u,s,r,_,$,p,o,g,C,y,Y=c[0].title+"",j,q,P,J,H,B,b,O,L,W,S;return H=new Pt({props:{timestamp:Dt(c[0]),format:"YYYY/MM/DD"}}),{c(){n=U("img"),u=tt(),s=U("div"),r=U("div"),_=U("h2"),$=R("Info about this comics"),p=tt(),o=U("ul"),g=U("li"),C=R("Title: "),y=U("i"),j=R(Y),q=tt(),P=U("li"),J=R("Upload time: "),bt(H.$$.fragment),B=tt(),b=U("button"),O=R("RerollðŸŽ²?"),this.h()},l(l){n=x(l,"IMG",{src:!0,alt:!0}),u=et(l),s=x(l,"DIV",{class:!0});var I=A(s);r=x(I,"DIV",{});var F=A(r);_=x(F,"H2",{});var f=A(_);$=V(f,"Info about this comics"),f.forEach(D),p=et(F),o=x(F,"UL",{});var i=A(o);g=x(i,"LI",{});var t=A(g);C=V(t,"Title: "),y=x(t,"I",{});var h=A(y);j=V(h,Y),h.forEach(D),t.forEach(D),q=et(i),P=x(i,"LI",{});var e=A(P);J=V(e,"Upload time: "),wt(H.$$.fragment,e),e.forEach(D),i.forEach(D),F.forEach(D),B=et(I),b=x(I,"BUTTON",{class:!0,type:!0});var d=A(b);O=V(d,"RerollðŸŽ²?"),d.forEach(D),I.forEach(D),this.h()},h(){Mt(n.src,a=c[0].img)||Q(n,"src",a),Q(n,"alt",m=c[0].alt),Q(b,"class","reroll-button svelte-1dn5d1m"),Q(b,"type","button"),Q(s,"class","comics-info svelte-1dn5d1m")},m(l,I){z(l,n,I),z(l,u,I),z(l,s,I),T(s,r),T(r,_),T(_,$),T(r,p),T(r,o),T(o,g),T(g,C),T(g,y),T(y,j),T(o,q),T(o,P),T(P,J),St(H,P,null),T(s,B),T(s,b),T(b,O),L=!0,W||(S=Lt(b,"click",c[1]),W=!0)},p(l,I){(!L||I&1&&!Mt(n.src,a=l[0].img))&&Q(n,"src",a),(!L||I&1&&m!==(m=l[0].alt))&&Q(n,"alt",m),(!L||I&1)&&Y!==(Y=l[0].title+"")&&dt(j,Y);const F={};I&1&&(F.timestamp=Dt(l[0])),H.$set(F)},i(l){L||(vt(H.$$.fragment,l),L=!0)},o(l){pt(H.$$.fragment,l),L=!1},d(l){l&&D(n),l&&D(u),l&&D(s),Tt(H),W=!1,S()}}}function Vt(c){let n;return{c(){n=R("Loading comics. Please wait a little......")},l(a){n=V(a,"Loading comics. Please wait a little......")},m(a,m){z(a,n,m)},p:X,i:X,o:X,d(a){a&&D(n)}}}function zt(c){let n,a,m,u={ctx:c,current:null,token:null,hasCatch:!0,pending:Vt,then:Rt,catch:Wt,value:0,error:3,blocks:[,,,]};return yt(a=c[0],u),{c(){n=U("div"),u.block.c(),this.h()},l(s){n=x(s,"DIV",{class:!0});var r=A(n);u.block.l(r),r.forEach(D),this.h()},h(){Q(n,"class","comics svelte-1dn5d1m")},m(s,r){z(s,n,r),u.block.m(n,u.anchor=null),u.mount=()=>n,u.anchor=null,m=!0},p(s,[r]){c=s,u.ctx=c,r&1&&a!==(a=c[0])&&yt(a,u)||Et(u,c,r)},i(s){m||(vt(u.block),m=!0)},o(s){for(let r=0;r<3;r+=1){const _=u.blocks[r];pt(_)}m=!1},d(s){s&&D(n),u.block.d(),u.token=null,u=null}}}function Dt(c){return new Date(Number(c.year),Number(c.month)-1,Number(c.day))}function Bt(c,n,a){let{email:m}=n,u=$t(m);function s(r){a(0,u=$t(m))}return c.$$set=r=>{"email"in r&&a(2,m=r.email)},[u,s,m]}class Ft extends ft{constructor(n){super(),ht(this,n,Bt,zt,mt,{email:2})}}function qt(c){let n,a,m,u,s,r,_,$,p;return $=new Ft({props:{email:"d.zakirov@innopolis.university"}}),{c(){n=tt(),a=U("h1"),m=R("Some comics"),u=tt(),s=U("p"),r=R("Here you can read some XKCD comics."),_=tt(),bt($.$$.fragment),this.h()},l(o){Ht("svelte-15uin63",document.head).forEach(D),n=et(o),a=x(o,"H1",{});var C=A(a);m=V(C,"Some comics"),C.forEach(D),u=et(o),s=x(o,"P",{});var y=A(s);r=V(y,"Here you can read some XKCD comics."),y.forEach(D),_=et(o),wt($.$$.fragment,o),this.h()},h(){document.title="Bizuki - Comics page"},m(o,g){z(o,n,g),z(o,a,g),T(a,m),z(o,u,g),z(o,s,g),T(s,r),z(o,_,g),St($,o,g),p=!0},p:X,i(o){p||(vt($.$$.fragment,o),p=!0)},o(o){pt($.$$.fragment,o),p=!1},d(o){o&&D(n),o&&D(a),o&&D(u),o&&D(s),o&&D(_),Tt($,o)}}}class Zt extends ft{constructor(n){super(),ht(this,n,null,qt,mt,{})}}export{Zt as default};
